<div class="flex h-screen overflow-hidden bg-background-light text-text-main font-display antialiased selection:bg-primary/20">
    
    <app-sidebar></app-sidebar>

    <!-- Main Content Wrapper -->
    <div class="flex-1 flex flex-col min-w-0 overflow-hidden">
        <!-- Top Header -->
        <header class="flex-none h-14 border-b border-border bg-surface flex items-center justify-between px-6 z-20">
            <div class="flex items-center gap-6">
                <div class="flex items-center gap-3 text-text-main">
                    <h1 class="text-lg font-bold uppercase tracking-wider text-text-main">Bid War Room</h1>
                </div>
                <div class="h-6 w-px bg-border"></div>
                <div class="flex items-center gap-2 text-text-dim text-xs font-medium">
                    <span class="hover:text-primary cursor-pointer">Projects</span>
                    <span class="material-symbols-outlined text-[12px]">chevron_right</span>
                    <span class="text-text-main font-bold">Project Omega</span>
                    <span class="bg-yellow-100 text-yellow-800 px-1.5 py-0.5 text-[10px] uppercase tracking-wide font-bold border border-yellow-200">Drafting</span>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <!-- View Toggle -->
                <div class="flex items-center bg-background-light border border-border p-0.5">
                    <button class="px-3 py-1 text-xs font-bold bg-white text-primary border border-border shadow-sm">INTERNAL DEFENSE</button>
                    <button class="px-3 py-1 text-xs font-medium text-text-dim hover:text-text-main">CLIENT PRESENTATION</button>
                </div>
                <div class="h-6 w-px bg-border"></div>
                <div class="flex items-center gap-2">
                    <button class="flex items-center justify-center size-8 hover:bg-background-light text-text-dim hover:text-text-main transition-colors">
                        <span class="material-symbols-outlined text-[20px]">notifications</span>
                    </button>
                    <button class="bg-primary hover:bg-blue-700 text-white text-xs font-bold uppercase tracking-wide px-4 py-2 flex items-center gap-2 transition-colors">
                        <span class="material-symbols-outlined text-[16px]">save</span>
                        Snapshot & Sign
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Workspace -->
        <main class="flex-1 flex overflow-hidden">
            <!-- Left Pane: Timeline Gantt -->
            <aside class="w-[320px] lg:w-[400px] flex-none border-r border-border bg-background-light flex flex-col relative z-10">
                <!-- Pane Header -->
                <div class="h-10 border-b border-border bg-surface px-4 flex items-center justify-between">
                    <h2 class="text-xs font-bold text-text-dim uppercase tracking-wider flex items-center gap-2">
                        <span class="material-symbols-outlined text-[14px]">calendar_month</span>
                        Project Chronology
                    </h2>
                    <div class="flex items-center gap-1">
                        <button class="p-1 hover:bg-background-light text-text-dim">
                            <span class="material-symbols-outlined text-[16px]">remove</span>
                        </button>
                        <span class="text-xs font-mono">4 Weeks</span>
                        <button class="p-1 hover:bg-background-light text-text-dim">
                            <span class="material-symbols-outlined text-[16px]">add</span>
                        </button>
                    </div>
                </div>
                <!-- Gantt Area -->
                <div class="flex-1 overflow-y-auto relative bg-surface">
                    <!-- Grid Background -->
                    <div class="absolute inset-0 tactical-grid opacity-50 pointer-events-none"></div>
                    <!-- Timeline Headers (Weeks) -->
                    <div class="flex border-b border-border bg-background-light sticky top-0 z-10">
                        <div class="flex-1 h-8 border-r border-border flex items-center justify-center text-[10px] font-mono text-text-dim">WK 01</div>
                        <div class="flex-1 h-8 border-r border-border flex items-center justify-center text-[10px] font-mono text-text-dim">WK 02</div>
                        <div class="flex-1 h-8 border-r border-border flex items-center justify-center text-[10px] font-mono text-text-dim">WK 03</div>
                        <div class="flex-1 h-8 flex items-center justify-center text-[10px] font-mono text-text-dim">WK 04</div>
                    </div>
                    <!-- Phase Items -->
                    <div class="p-4 space-y-6">
                        <!-- Phase 1 -->
                        <div class="group">
                            <div class="flex justify-between items-baseline mb-1">
                                <span class="text-xs font-bold text-text-main">01. Discovery & Strategy</span>
                                <span class="text-[10px] font-mono text-text-dim">5 Days</span>
                            </div>
                            <div class="relative h-6 w-full bg-background-light border border-border">
                                <!-- Gantt Bar -->
                                <div class="absolute left-0 top-0 bottom-0 w-[25%] bg-primary/20 border-r-2 border-primary group-hover:bg-primary/30 cursor-ew-resize flex items-center px-2">
                                    <span class="text-[9px] font-bold text-primary">ACTIVE</span>
                                </div>
                            </div>
                        </div>
                        <!-- Phase 2 -->
                        <div class="group">
                            <div class="flex justify-between items-baseline mb-1">
                                <span class="text-xs font-bold text-text-main">02. Wireframing</span>
                                <span class="text-[10px] font-mono text-text-dim">7 Days</span>
                            </div>
                            <div class="relative h-6 w-full bg-background-light border border-border">
                                <div class="absolute left-[25%] top-0 bottom-0 w-[35%] bg-blue-100 border border-border group-hover:border-primary cursor-pointer"></div>
                            </div>
                        </div>
                        <!-- Phase 3 -->
                        <div class="group">
                            <div class="flex justify-between items-baseline mb-1">
                                <span class="text-xs font-bold text-text-main">03. High Fidelity UI</span>
                                <span class="text-[10px] font-mono text-text-dim">10 Days</span>
                            </div>
                            <div class="relative h-6 w-full bg-background-light border border-border">
                                <div class="absolute left-[60%] top-0 bottom-0 w-[40%] bg-blue-100 border border-border group-hover:border-primary cursor-pointer"></div>
                            </div>
                        </div>
                        <!-- Phase 4 -->
                        <div class="group opacity-60">
                            <div class="flex justify-between items-baseline mb-1">
                                <span class="text-xs font-bold text-text-main">04. QA & Handoff</span>
                                <span class="text-[10px] font-mono text-text-dim">3 Days</span>
                            </div>
                            <div class="relative h-6 w-full bg-background-light border border-border">
                                <!-- Placeholder -->
                                <div class="absolute left-full top-0 bottom-0 w-[15%] -ml-[15%] bg-gray-100 border border-dashed border-gray-300"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Timeline Footer Info -->
                <div class="h-auto p-4 border-t border-border bg-surface text-xs text-text-dim space-y-2">
                    <div class="flex justify-between">
                        <span>Total Duration</span>
                        <span class="font-mono text-text-main font-bold">25 Days</span>
                    </div>
                    <div class="flex justify-between">
                        <span>Est. Delivery</span>
                        <span class="font-mono text-text-main">Oct 24, 2023</span>
                    </div>
                </div>
            </aside>

            <!-- Right Pane: Line Item Defense (Budget) -->
            <section class="flex-1 flex flex-col bg-surface relative">
                <!-- Pane Header -->
                <div class="h-10 border-b border-border bg-surface px-4 flex items-center justify-between shrink-0">
                    <h2 class="text-xs font-bold text-text-dim uppercase tracking-wider flex items-center gap-2">
                        <span class="material-symbols-outlined text-[14px]">table_chart</span>
                        Line Item Defense
                    </h2>
                    <div class="flex items-center gap-3">
                        <span class="text-[10px] uppercase font-bold text-text-dim">Currency: <span class="text-text-main">USD</span></span>
                        <div class="h-3 w-px bg-border"></div>
                        <button class="text-primary hover:text-blue-700 text-xs font-bold flex items-center gap-1">
                            <span class="material-symbols-outlined text-[14px]">add</span>
                            Add Phase
                        </button>
                    </div>
                </div>
                <!-- Spreadsheet Area -->
                <div class="flex-1 overflow-auto bg-white">
                    <table class="w-full text-left border-collapse">
                        <thead class="bg-background-light sticky top-0 z-10 shadow-sm">
                            <tr>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider w-[240px]">Task / Deliverable</th>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider w-[120px]">Role</th>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider text-right w-[100px]">Rate</th>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider text-right w-[80px]">Hrs</th>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider text-right w-[110px] bg-red-50/50 text-red-800">Int. Cost</th>
                                <th class="py-2 px-4 border-b border-r border-border text-[10px] font-bold text-text-dim uppercase tracking-wider text-right w-[110px] text-primary">Client Price</th>
                                <th class="py-2 px-4 border-b border-border text-[10px] font-bold text-text-dim uppercase tracking-wider text-right w-[90px]">Margin</th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <!-- Phase 01 Header -->
                            <tr class="bg-gray-50 hover:bg-gray-100">
                                <td class="py-1.5 px-4 border-b border-border font-bold text-xs uppercase tracking-wide text-text-main flex items-center gap-2" colspan="7">
                                    <span class="material-symbols-outlined text-[14px] text-text-dim">expand_more</span>
                                    01. Discovery & Strategy
                                </td>
                            </tr>
                            <!-- Row 1 -->
                            <tr class="group hover:bg-blue-50/30 transition-colors">
                                <td class="py-0 px-0 border-b border-r border-border relative">
                                    <input class="w-full h-8 px-4 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs font-medium text-text-main" type="text" value="Stakeholder Interviews"/>
                                </td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <select class="w-full h-8 px-2 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs text-text-dim cursor-pointer">
                                        <option>Product Lead</option>
                                        <option>Senior Designer</option>
                                    </select>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim">$150</td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <input class="w-full h-8 px-4 text-right bg-transparent border-none focus:ring-1 focus:ring-primary font-mono text-xs text-text-main font-bold" type="number" value="12"/>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim bg-red-50/20">$1,800</td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-primary font-bold">$2,400</td>
                                <td class="py-0 px-4 border-b border-border text-right font-mono text-xs text-success font-bold">25%</td>
                            </tr>
                            <!-- Row 2 -->
                            <tr class="group hover:bg-blue-50/30 transition-colors">
                                <td class="py-0 px-0 border-b border-r border-border relative">
                                    <input class="w-full h-8 px-4 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs font-medium text-text-main" type="text" value="Competitive Audit"/>
                                </td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <select class="w-full h-8 px-2 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs text-text-dim cursor-pointer">
                                        <option>Senior Designer</option>
                                        <option>Product Lead</option>
                                    </select>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim">$120</td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <input class="w-full h-8 px-4 text-right bg-transparent border-none focus:ring-1 focus:ring-primary font-mono text-xs text-text-main font-bold" type="number" value="8"/>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim bg-red-50/20">$960</td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-primary font-bold">$1,440</td>
                                <td class="py-0 px-4 border-b border-border text-right font-mono text-xs text-success font-bold">33%</td>
                            </tr>
                            <!-- Phase 02 Header -->
                            <tr class="bg-gray-50 hover:bg-gray-100 mt-4">
                                <td class="py-1.5 px-4 border-b border-border font-bold text-xs uppercase tracking-wide text-text-main flex items-center gap-2 mt-2" colspan="7">
                                    <span class="material-symbols-outlined text-[14px] text-text-dim">expand_more</span>
                                    02. Wireframing & UX
                                </td>
                            </tr>
                            <!-- Row 3 -->
                            <tr class="group hover:bg-blue-50/30 transition-colors">
                                <td class="py-0 px-0 border-b border-r border-border relative">
                                    <input class="w-full h-8 px-4 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs font-medium text-text-main" type="text" value="Low-fi Prototypes"/>
                                </td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <select class="w-full h-8 px-2 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs text-text-dim cursor-pointer">
                                        <option>Senior Designer</option>
                                    </select>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim">$120</td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <input class="w-full h-8 px-4 text-right bg-transparent border-none focus:ring-1 focus:ring-primary font-mono text-xs text-text-main font-bold" type="number" value="24"/>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim bg-red-50/20">$2,880</td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-primary font-bold">$4,320</td>
                                <td class="py-0 px-4 border-b border-border text-right font-mono text-xs text-success font-bold">33%</td>
                            </tr>
                            <!-- Row 4 -->
                            <tr class="group hover:bg-blue-50/30 transition-colors">
                                <td class="py-0 px-0 border-b border-r border-border relative">
                                    <input class="w-full h-8 px-4 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs font-medium text-text-main" type="text" value="User Flow Diagrams"/>
                                </td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <select class="w-full h-8 px-2 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs text-text-dim cursor-pointer">
                                        <option>Senior Designer</option>
                                    </select>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim">$120</td>
                                <td class="py-0 px-0 border-b border-r border-border">
                                    <input class="w-full h-8 px-4 text-right bg-transparent border-none focus:ring-1 focus:ring-primary font-mono text-xs text-text-main font-bold" type="number" value="6"/>
                                </td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-text-dim bg-red-50/20">$720</td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-primary font-bold">$1,080</td>
                                <td class="py-0 px-4 border-b border-border text-right font-mono text-xs text-success font-bold">33%</td>
                            </tr>
                            <!-- Empty Row for visual spacing/input availability -->
                            <tr class="group hover:bg-gray-50 transition-colors">
                                <td class="py-0 px-0 border-b border-r border-border relative">
                                    <input class="w-full h-8 px-4 bg-transparent border-none focus:ring-1 focus:ring-primary text-xs font-medium text-text-dim placeholder:text-gray-300" placeholder="+ Add task..." type="text"/>
                                </td>
                                <td class="py-0 px-0 border-b border-r border-border"></td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-gray-200">--</td>
                                <td class="py-0 px-0 border-b border-r border-border"></td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-gray-200 bg-red-50/10">--</td>
                                <td class="py-0 px-4 border-b border-r border-border text-right font-mono text-xs text-gray-200">--</td>
                                <td class="py-0 px-4 border-b border-border text-right font-mono text-xs text-gray-200">--</td>
                            </tr>
                        </tbody>
                    </table>
                    <!-- Spacer to allow scrolling past last item -->
                    <div class="h-20 w-full"></div>
                </div>
                
                <!-- Footer Stats Bar -->
                <div class="h-14 border-t border-border bg-white flex items-stretch shrink-0 sticky bottom-0 z-20 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]">
                    <!-- Stat Block 1 -->
                    <div class="flex-1 border-r border-border px-6 flex flex-col justify-center">
                        <span class="text-[10px] font-bold text-text-dim uppercase tracking-wider mb-1">Total Hours</span>
                        <span class="font-mono text-lg font-bold text-text-main">50.0 <span class="text-xs text-text-dim font-normal">hrs</span></span>
                    </div>
                    <!-- Stat Block 2 -->
                    <div class="flex-1 border-r border-border px-6 flex flex-col justify-center bg-red-50/30">
                        <span class="text-[10px] font-bold text-red-800 uppercase tracking-wider mb-1">Total Internal Cost</span>
                        <span class="font-mono text-lg font-bold text-text-main">$6,360.00</span>
                    </div>
                    <!-- Stat Block 3 -->
                    <div class="flex-1 border-r border-border px-6 flex flex-col justify-center bg-blue-50/30">
                        <span class="text-[10px] font-bold text-primary uppercase tracking-wider mb-1">Total Client Bid</span>
                        <span class="font-mono text-lg font-bold text-primary">$9,240.00</span>
                    </div>
                    <!-- Stat Block 4 -->
                    <div class="flex-1 px-6 flex flex-col justify-center bg-green-50/30 relative overflow-hidden">
                        <div class="absolute right-0 top-0 bottom-0 w-1 bg-success"></div>
                        <span class="text-[10px] font-bold text-success uppercase tracking-wider mb-1">Projected Margin</span>
                        <div class="flex items-baseline gap-2">
                            <span class="font-mono text-lg font-bold text-success">31.2%</span>
                            <span class="text-xs font-mono text-success opacity-80">(+$2,880)</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
</div>